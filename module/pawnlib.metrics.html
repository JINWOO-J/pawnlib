

<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>pawnlib.metrics package &mdash; Pawnlib v2.1.36</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css" />
      <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />

  
      <script src="../_static/jquery.js"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
      <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
      <script src="../_static/doctools.js"></script>
      <script src="../_static/sphinx_highlight.js"></script>
      <script src="../_static/clipboard.min.js"></script>
      <script src="../_static/copybutton.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="pawnlib.output package" href="pawnlib.output.html" />
    <link rel="prev" title="pawnlib.input package" href="pawnlib.input.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            pawnlib
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">Welcome to pawnlib’s documentation!</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Packages</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="pawnlib.asyncio.html">pawnlib.asyncio package</a></li>
<li class="toctree-l1"><a class="reference internal" href="pawnlib.builder.html">pawnlib.builder package</a></li>
<li class="toctree-l1"><a class="reference internal" href="pawnlib.cli.html">pawnlib.cli package</a></li>
<li class="toctree-l1"><a class="reference internal" href="pawnlib.config.html">pawnlib.config package</a></li>
<li class="toctree-l1"><a class="reference internal" href="pawnlib.docker.html">pawnlib.docker package</a></li>
<li class="toctree-l1"><a class="reference internal" href="pawnlib.exceptions.html">pawnlib.exceptions package</a></li>
<li class="toctree-l1"><a class="reference internal" href="pawnlib.input.html">pawnlib.input package</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">pawnlib.metrics package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pawnlib-metrics-tracker-module">pawnlib.metrics.tracker module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#pawnlib.metrics.tracker.TPSCalculator"><code class="docutils literal notranslate"><span class="pre">TPSCalculator</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#pawnlib.metrics.tracker.TPSCalculator.__init__"><code class="docutils literal notranslate"><span class="pre">TPSCalculator.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pawnlib.metrics.tracker.TPSCalculator.calculate_tps"><code class="docutils literal notranslate"><span class="pre">TPSCalculator.calculate_tps()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pawnlib.metrics.tracker.TPSCalculator.get_average_tps"><code class="docutils literal notranslate"><span class="pre">TPSCalculator.get_average_tps()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pawnlib.metrics.tracker.TPSCalculator.processed_tx"><code class="docutils literal notranslate"><span class="pre">TPSCalculator.processed_tx()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pawnlib.metrics.tracker.TPSCalculator.last_n_tx"><code class="docutils literal notranslate"><span class="pre">TPSCalculator.last_n_tx()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pawnlib.metrics.tracker.TPSCalculator.reset"><code class="docutils literal notranslate"><span class="pre">TPSCalculator.reset()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#pawnlib.metrics.tracker.SyncSpeedTracker"><code class="docutils literal notranslate"><span class="pre">SyncSpeedTracker</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#pawnlib.metrics.tracker.SyncSpeedTracker.__init__"><code class="docutils literal notranslate"><span class="pre">SyncSpeedTracker.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pawnlib.metrics.tracker.SyncSpeedTracker.update"><code class="docutils literal notranslate"><span class="pre">SyncSpeedTracker.update()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pawnlib.metrics.tracker.SyncSpeedTracker.get_average_sync_speed"><code class="docutils literal notranslate"><span class="pre">SyncSpeedTracker.get_average_sync_speed()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#pawnlib.metrics.tracker.BlockDifferenceTracker"><code class="docutils literal notranslate"><span class="pre">BlockDifferenceTracker</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#pawnlib.metrics.tracker.BlockDifferenceTracker.__init__"><code class="docutils literal notranslate"><span class="pre">BlockDifferenceTracker.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pawnlib.metrics.tracker.BlockDifferenceTracker.add_difference"><code class="docutils literal notranslate"><span class="pre">BlockDifferenceTracker.add_difference()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pawnlib.metrics.tracker.BlockDifferenceTracker.get_average_difference"><code class="docutils literal notranslate"><span class="pre">BlockDifferenceTracker.get_average_difference()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#pawnlib.metrics.tracker.LatencyTracker"><code class="docutils literal notranslate"><span class="pre">LatencyTracker</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#pawnlib.metrics.tracker.LatencyTracker.__init__"><code class="docutils literal notranslate"><span class="pre">LatencyTracker.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pawnlib.metrics.tracker.LatencyTracker.add_latency"><code class="docutils literal notranslate"><span class="pre">LatencyTracker.add_latency()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pawnlib.metrics.tracker.LatencyTracker.get_average_latency"><code class="docutils literal notranslate"><span class="pre">LatencyTracker.get_average_latency()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pawnlib.metrics.tracker.LatencyTracker.get_min_latency"><code class="docutils literal notranslate"><span class="pre">LatencyTracker.get_min_latency()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pawnlib.metrics.tracker.LatencyTracker.get_max_latency"><code class="docutils literal notranslate"><span class="pre">LatencyTracker.get_max_latency()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#pawnlib.metrics.tracker.ErrorRateTracker"><code class="docutils literal notranslate"><span class="pre">ErrorRateTracker</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#pawnlib.metrics.tracker.ErrorRateTracker.__init__"><code class="docutils literal notranslate"><span class="pre">ErrorRateTracker.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pawnlib.metrics.tracker.ErrorRateTracker.record_request"><code class="docutils literal notranslate"><span class="pre">ErrorRateTracker.record_request()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pawnlib.metrics.tracker.ErrorRateTracker.get_error_rate"><code class="docutils literal notranslate"><span class="pre">ErrorRateTracker.get_error_rate()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#pawnlib.metrics.tracker.ThroughputTracker"><code class="docutils literal notranslate"><span class="pre">ThroughputTracker</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#pawnlib.metrics.tracker.ThroughputTracker.__init__"><code class="docutils literal notranslate"><span class="pre">ThroughputTracker.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pawnlib.metrics.tracker.ThroughputTracker.record_request"><code class="docutils literal notranslate"><span class="pre">ThroughputTracker.record_request()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pawnlib.metrics.tracker.ThroughputTracker.get_throughput"><code class="docutils literal notranslate"><span class="pre">ThroughputTracker.get_throughput()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#pawnlib.metrics.tracker.PeriodicMetricLogger"><code class="docutils literal notranslate"><span class="pre">PeriodicMetricLogger</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#pawnlib.metrics.tracker.PeriodicMetricLogger.__init__"><code class="docutils literal notranslate"><span class="pre">PeriodicMetricLogger.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pawnlib.metrics.tracker.PeriodicMetricLogger.log_metrics"><code class="docutils literal notranslate"><span class="pre">PeriodicMetricLogger.log_metrics()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#pawnlib.metrics.tracker.SpikeDetector"><code class="docutils literal notranslate"><span class="pre">SpikeDetector</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#pawnlib.metrics.tracker.SpikeDetector.__init__"><code class="docutils literal notranslate"><span class="pre">SpikeDetector.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pawnlib.metrics.tracker.SpikeDetector.add_value"><code class="docutils literal notranslate"><span class="pre">SpikeDetector.add_value()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pawnlib.metrics.tracker.SpikeDetector.detect_spike"><code class="docutils literal notranslate"><span class="pre">SpikeDetector.detect_spike()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#pawnlib.metrics.tracker.AnomalyDetector"><code class="docutils literal notranslate"><span class="pre">AnomalyDetector</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#pawnlib.metrics.tracker.AnomalyDetector.__init__"><code class="docutils literal notranslate"><span class="pre">AnomalyDetector.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pawnlib.metrics.tracker.AnomalyDetector.detect_anomaly"><code class="docutils literal notranslate"><span class="pre">AnomalyDetector.detect_anomaly()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#pawnlib.metrics.tracker.TrendAnalyzer"><code class="docutils literal notranslate"><span class="pre">TrendAnalyzer</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#pawnlib.metrics.tracker.TrendAnalyzer.__init__"><code class="docutils literal notranslate"><span class="pre">TrendAnalyzer.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pawnlib.metrics.tracker.TrendAnalyzer.add_value"><code class="docutils literal notranslate"><span class="pre">TrendAnalyzer.add_value()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pawnlib.metrics.tracker.TrendAnalyzer.get_trend"><code class="docutils literal notranslate"><span class="pre">TrendAnalyzer.get_trend()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#pawnlib.metrics.tracker.RollingAverageCalculator"><code class="docutils literal notranslate"><span class="pre">RollingAverageCalculator</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#pawnlib.metrics.tracker.RollingAverageCalculator.__init__"><code class="docutils literal notranslate"><span class="pre">RollingAverageCalculator.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pawnlib.metrics.tracker.RollingAverageCalculator.add_value"><code class="docutils literal notranslate"><span class="pre">RollingAverageCalculator.add_value()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pawnlib.metrics.tracker.RollingAverageCalculator.get_average"><code class="docutils literal notranslate"><span class="pre">RollingAverageCalculator.get_average()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#pawnlib.metrics.tracker.ThresholdNotifier"><code class="docutils literal notranslate"><span class="pre">ThresholdNotifier</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#pawnlib.metrics.tracker.ThresholdNotifier.__init__"><code class="docutils literal notranslate"><span class="pre">ThresholdNotifier.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pawnlib.metrics.tracker.ThresholdNotifier.check_and_notify"><code class="docutils literal notranslate"><span class="pre">ThresholdNotifier.check_and_notify()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#pawnlib.metrics.tracker.RateLimiter"><code class="docutils literal notranslate"><span class="pre">RateLimiter</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#pawnlib.metrics.tracker.RateLimiter.__init__"><code class="docutils literal notranslate"><span class="pre">RateLimiter.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pawnlib.metrics.tracker.RateLimiter.is_allowed"><code class="docutils literal notranslate"><span class="pre">RateLimiter.is_allowed()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#pawnlib.metrics.tracker.calculate_reset_percentage"><code class="docutils literal notranslate"><span class="pre">calculate_reset_percentage()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#pawnlib.metrics.tracker.calculate_pruning_percentage"><code class="docutils literal notranslate"><span class="pre">calculate_pruning_percentage()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pawnlib.output.html">pawnlib.output package</a></li>
<li class="toctree-l1"><a class="reference internal" href="pawnlib.resource.html">pawnlib.resource package</a></li>
<li class="toctree-l1"><a class="reference internal" href="pawnlib.typing.html">pawnlib.typing package</a></li>
<li class="toctree-l1"><a class="reference internal" href="pawnlib.utils.html">pawnlib.utils package</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">pawnlib</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">pawnlib.metrics package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/module/pawnlib.metrics.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="pawnlib-metrics-package">
<h1>pawnlib.metrics package<a class="headerlink" href="#pawnlib-metrics-package" title="Permalink to this heading"></a></h1>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">pawnlib.metrics</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
</pre></div>
</div>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this heading"></a></h2>
</section>
<section id="pawnlib-metrics-tracker-module">
<h2>pawnlib.metrics.tracker module<a class="headerlink" href="#pawnlib-metrics-tracker-module" title="Permalink to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">pawnlib.metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">tracker</span>
</pre></div>
</div>
<span class="target" id="module-pawnlib.metrics.tracker"></span><dl class="py class">
<dt class="sig sig-object py" id="pawnlib.metrics.tracker.TPSCalculator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">TPSCalculator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">history_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">50</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sleep_time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">variable_time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pawnlib/metrics/tracker.html#TPSCalculator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pawnlib.metrics.tracker.TPSCalculator" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A class to calculate Transactions Per Second (TPS) based on block height changes over time.</p>
<p>This class tracks the block height and calculates TPS over a configurable history size.
It supports both fixed interval calculations and variable time-based calculations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>history_size</strong> (<em>int</em>) – Number of recent TPS values to keep for averaging.
<a href="#id1"><span class="problematic" id="id2">|default|</span></a> <code class="code docutils literal notranslate"><span class="pre">50</span></code></p></li>
<li><p><strong>sleep_time</strong> (<em>int</em>) – Fixed interval between API calls in seconds.
<a href="#id3"><span class="problematic" id="id4">|default|</span></a> <code class="code docutils literal notranslate"><span class="pre">2</span></code></p></li>
<li><p><strong>variable_time</strong> (<em>bool</em>) – If True, calculate TPS based on actual elapsed time.
<a href="#id5"><span class="problematic" id="id6">|default|</span></a> <code class="code docutils literal notranslate"><span class="pre">False</span></code></p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Initialize TPSCalculator with default parameters</span>
<span class="n">tps_calculator</span> <span class="o">=</span> <span class="n">TPSCalculator</span><span class="p">()</span>

<span class="c1"># Simulate block height updates</span>
<span class="n">current_height</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">current_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>

<span class="c1"># Calculate TPS with a new block height</span>
<span class="n">current_tps</span><span class="p">,</span> <span class="n">average_tps</span> <span class="o">=</span> <span class="n">tps_calculator</span><span class="o">.</span><span class="n">calculate_tps</span><span class="p">(</span><span class="n">current_height</span><span class="p">,</span> <span class="n">current_time</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Current TPS: </span><span class="si">{</span><span class="n">current_tps</span><span class="si">}</span><span class="s2">, Average TPS: </span><span class="si">{</span><span class="n">average_tps</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Reset the calculator if needed</span>
<span class="n">tps_calculator</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
</pre></div>
</div>
<p>Initializes the TPSCalculator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>history_size</strong> (<em>int</em>) – Number of recent TPS values to keep for averaging.
<a href="#id7"><span class="problematic" id="id8">|default|</span></a> <code class="code docutils literal notranslate"><span class="pre">50</span></code></p></li>
<li><p><strong>sleep_time</strong> (<em>int</em>) – Fixed interval between API calls in seconds.
<a href="#id9"><span class="problematic" id="id10">|default|</span></a> <code class="code docutils literal notranslate"><span class="pre">2</span></code></p></li>
<li><p><strong>variable_time</strong> (<em>bool</em>) – If True, calculate TPS based on actual elapsed time.
<a href="#id11"><span class="problematic" id="id12">|default|</span></a> <code class="code docutils literal notranslate"><span class="pre">False</span></code></p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="pawnlib.metrics.tracker.TPSCalculator.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">history_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">50</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sleep_time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">variable_time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pawnlib/metrics/tracker.html#TPSCalculator.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pawnlib.metrics.tracker.TPSCalculator.__init__" title="Permalink to this definition"></a></dt>
<dd><p>Initializes the TPSCalculator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>history_size</strong> (<em>int</em>) – Number of recent TPS values to keep for averaging.
<a href="#id13"><span class="problematic" id="id14">|default|</span></a> <code class="code docutils literal notranslate"><span class="pre">50</span></code></p></li>
<li><p><strong>sleep_time</strong> (<em>int</em>) – Fixed interval between API calls in seconds.
<a href="#id15"><span class="problematic" id="id16">|default|</span></a> <code class="code docutils literal notranslate"><span class="pre">2</span></code></p></li>
<li><p><strong>variable_time</strong> (<em>bool</em>) – If True, calculate TPS based on actual elapsed time.
<a href="#id17"><span class="problematic" id="id18">|default|</span></a> <code class="code docutils literal notranslate"><span class="pre">False</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pawnlib.metrics.tracker.TPSCalculator.calculate_tps">
<span class="sig-name descname"><span class="pre">calculate_tps</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">current_height</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">current_time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pawnlib/metrics/tracker.html#TPSCalculator.calculate_tps"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pawnlib.metrics.tracker.TPSCalculator.calculate_tps" title="Permalink to this definition"></a></dt>
<dd><p>Calculates the current TPS and updates the TPS history.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>current_height</strong> (<em>int</em>) – The current block height.</p></li>
<li><p><strong>current_time</strong> (<em>float</em><em>, </em><em>optional</em>) – The current timestamp. If None and variable_time is False, uses fixed sleep_time.
<a href="#id19"><span class="problematic" id="id20">|default|</span></a> <code class="code docutils literal notranslate"><span class="pre">None</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple of (current_tps, average_tps)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple(float, float)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pawnlib.metrics.tracker.TPSCalculator.get_average_tps">
<span class="sig-name descname"><span class="pre">get_average_tps</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pawnlib/metrics/tracker.html#TPSCalculator.get_average_tps"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pawnlib.metrics.tracker.TPSCalculator.get_average_tps" title="Permalink to this definition"></a></dt>
<dd><p>Calculates the average TPS from the history.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The average TPS.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pawnlib.metrics.tracker.TPSCalculator.processed_tx">
<span class="sig-name descname"><span class="pre">processed_tx</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pawnlib/metrics/tracker.html#TPSCalculator.processed_tx"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pawnlib.metrics.tracker.TPSCalculator.processed_tx" title="Permalink to this definition"></a></dt>
<dd><p>Returns the total number of transactions since monitoring started.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Total transactions as integer.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pawnlib.metrics.tracker.TPSCalculator.last_n_tx">
<span class="sig-name descname"><span class="pre">last_n_tx</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pawnlib/metrics/tracker.html#TPSCalculator.last_n_tx"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pawnlib.metrics.tracker.TPSCalculator.last_n_tx" title="Permalink to this definition"></a></dt>
<dd><p>Returns the number of transactions in the last n seconds (sleep_time).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Transactions count in last n seconds.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pawnlib.metrics.tracker.TPSCalculator.reset">
<span class="sig-name descname"><span class="pre">reset</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pawnlib/metrics/tracker.html#TPSCalculator.reset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pawnlib.metrics.tracker.TPSCalculator.reset" title="Permalink to this definition"></a></dt>
<dd><p>Resets the TPSCalculator to its initial state.</p>
<p>This clears all stored data and resets counters.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pawnlib.metrics.tracker.SyncSpeedTracker">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SyncSpeedTracker</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">history_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pawnlib/metrics/tracker.html#SyncSpeedTracker"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pawnlib.metrics.tracker.SyncSpeedTracker" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A class to track the synchronization speed of a blockchain node.</p>
<p>This class calculates the average number of blocks synchronized per second
using a moving average approach based on recent block height and time differences.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>history_size</strong> (<em>int</em>) – The number of records to keep for calculating the moving average.
<a href="#id21"><span class="problematic" id="id22">|default|</span></a> <code class="code docutils literal notranslate"><span class="pre">10</span></code></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Initialize the tracker with a history size of 10</span>
<span class="n">sync_tracker</span> <span class="o">=</span> <span class="n">SyncSpeedTracker</span><span class="p">(</span><span class="n">history_size</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

<span class="c1"># Update the tracker with new block height and timestamp</span>
<span class="n">current_height</span> <span class="o">=</span> <span class="mi">150</span>
<span class="n">current_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="n">sync_tracker</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">current_height</span><span class="p">,</span> <span class="n">current_time</span><span class="p">)</span>

<span class="c1"># Get the average synchronization speed (blocks per second)</span>
<span class="n">avg_sync_speed</span> <span class="o">=</span> <span class="n">sync_tracker</span><span class="o">.</span><span class="n">get_average_sync_speed</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Average Sync Speed: </span><span class="si">{</span><span class="n">avg_sync_speed</span><span class="si">}</span><span class="s2"> blocks/second&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Initializes the SyncSpeedTracker.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>history_size</strong> (<em>int</em>) – The number of records to store for calculating the moving average.
<a href="#id23"><span class="problematic" id="id24">|default|</span></a> <code class="code docutils literal notranslate"><span class="pre">10</span></code></p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="pawnlib.metrics.tracker.SyncSpeedTracker.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">history_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pawnlib/metrics/tracker.html#SyncSpeedTracker.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pawnlib.metrics.tracker.SyncSpeedTracker.__init__" title="Permalink to this definition"></a></dt>
<dd><p>Initializes the SyncSpeedTracker.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>history_size</strong> (<em>int</em>) – The number of records to store for calculating the moving average.
<a href="#id25"><span class="problematic" id="id26">|default|</span></a> <code class="code docutils literal notranslate"><span class="pre">10</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pawnlib.metrics.tracker.SyncSpeedTracker.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">current_height</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">current_time</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pawnlib/metrics/tracker.html#SyncSpeedTracker.update"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pawnlib.metrics.tracker.SyncSpeedTracker.update" title="Permalink to this definition"></a></dt>
<dd><p>Updates the synchronization speed tracker with new block height and timestamp.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>current_height</strong> (<em>int</em>) – The current block height.</p></li>
<li><p><strong>current_time</strong> (<em>float</em>) – The current timestamp.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pawnlib.metrics.tracker.SyncSpeedTracker.get_average_sync_speed">
<span class="sig-name descname"><span class="pre">get_average_sync_speed</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pawnlib/metrics/tracker.html#SyncSpeedTracker.get_average_sync_speed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pawnlib.metrics.tracker.SyncSpeedTracker.get_average_sync_speed" title="Permalink to this definition"></a></dt>
<dd><p>Calculates the average number of blocks synchronized per second using a moving average.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The average synchronization speed in blocks per second. Returns None if insufficient data.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float or None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pawnlib.metrics.tracker.BlockDifferenceTracker">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockDifferenceTracker</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">history_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pawnlib/metrics/tracker.html#BlockDifferenceTracker"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pawnlib.metrics.tracker.BlockDifferenceTracker" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A class to track and calculate the average block difference over a configurable history size.</p>
<p>This class is useful for monitoring the difference in block heights between nodes or systems.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>history_size</strong> (<em>int</em>) – The number of recent block differences to track.
<a href="#id27"><span class="problematic" id="id28">|default|</span></a> <code class="code docutils literal notranslate"><span class="pre">100</span></code></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Initialize the tracker with a history size of 50</span>
<span class="n">block_tracker</span> <span class="o">=</span> <span class="n">BlockDifferenceTracker</span><span class="p">(</span><span class="n">history_size</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>

<span class="c1"># Add block differences</span>
<span class="n">block_tracker</span><span class="o">.</span><span class="n">add_difference</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="n">block_tracker</span><span class="o">.</span><span class="n">add_difference</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>

<span class="c1"># Get the average block difference</span>
<span class="n">avg_difference</span> <span class="o">=</span> <span class="n">block_tracker</span><span class="o">.</span><span class="n">get_average_difference</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Average Block Difference: </span><span class="si">{</span><span class="n">avg_difference</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Initializes the BlockDifferenceTracker.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>history_size</strong> (<em>int</em>) – Number of recent block differences to track.
<a href="#id29"><span class="problematic" id="id30">|default|</span></a> <code class="code docutils literal notranslate"><span class="pre">100</span></code></p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="pawnlib.metrics.tracker.BlockDifferenceTracker.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">history_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pawnlib/metrics/tracker.html#BlockDifferenceTracker.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pawnlib.metrics.tracker.BlockDifferenceTracker.__init__" title="Permalink to this definition"></a></dt>
<dd><p>Initializes the BlockDifferenceTracker.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>history_size</strong> (<em>int</em>) – Number of recent block differences to track.
<a href="#id31"><span class="problematic" id="id32">|default|</span></a> <code class="code docutils literal notranslate"><span class="pre">100</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pawnlib.metrics.tracker.BlockDifferenceTracker.add_difference">
<span class="sig-name descname"><span class="pre">add_difference</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">block_difference</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pawnlib/metrics/tracker.html#BlockDifferenceTracker.add_difference"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pawnlib.metrics.tracker.BlockDifferenceTracker.add_difference" title="Permalink to this definition"></a></dt>
<dd><p>Adds a new block difference to the tracker.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>block_difference</strong> (<em>int</em>) – The current block difference.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pawnlib.metrics.tracker.BlockDifferenceTracker.get_average_difference">
<span class="sig-name descname"><span class="pre">get_average_difference</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pawnlib/metrics/tracker.html#BlockDifferenceTracker.get_average_difference"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pawnlib.metrics.tracker.BlockDifferenceTracker.get_average_difference" title="Permalink to this definition"></a></dt>
<dd><p>Calculates the average block difference.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The average of the tracked block differences.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pawnlib.metrics.tracker.LatencyTracker">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">LatencyTracker</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">history_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pawnlib/metrics/tracker.html#LatencyTracker"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pawnlib.metrics.tracker.LatencyTracker" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A class to track and analyze latency measurements.</p>
<p>This class stores latency values and provides methods to calculate average, minimum, and maximum latencies.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>history_size</strong> (<em>int</em>) – The number of recent latency measurements to track.
<a href="#id33"><span class="problematic" id="id34">|default|</span></a> <code class="code docutils literal notranslate"><span class="pre">100</span></code></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Initialize the tracker with a history size of 100</span>
<span class="n">latency_tracker</span> <span class="o">=</span> <span class="n">LatencyTracker</span><span class="p">(</span><span class="n">history_size</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>

<span class="c1"># Add latency measurements</span>
<span class="n">latency_tracker</span><span class="o">.</span><span class="n">add_latency</span><span class="p">(</span><span class="mi">120</span><span class="p">)</span>
<span class="n">latency_tracker</span><span class="o">.</span><span class="n">add_latency</span><span class="p">(</span><span class="mi">150</span><span class="p">)</span>

<span class="c1"># Get latency statistics</span>
<span class="n">avg_latency</span> <span class="o">=</span> <span class="n">latency_tracker</span><span class="o">.</span><span class="n">get_average_latency</span><span class="p">()</span>
<span class="n">min_latency</span> <span class="o">=</span> <span class="n">latency_tracker</span><span class="o">.</span><span class="n">get_min_latency</span><span class="p">()</span>
<span class="n">max_latency</span> <span class="o">=</span> <span class="n">latency_tracker</span><span class="o">.</span><span class="n">get_max_latency</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Average Latency: </span><span class="si">{</span><span class="n">avg_latency</span><span class="si">}</span><span class="s2"> ms&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Min Latency: </span><span class="si">{</span><span class="n">min_latency</span><span class="si">}</span><span class="s2"> ms&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Max Latency: </span><span class="si">{</span><span class="n">max_latency</span><span class="si">}</span><span class="s2"> ms&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Initializes the LatencyTracker.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>history_size</strong> (<em>int</em>) – The number of recent latency measurements to track.
<a href="#id35"><span class="problematic" id="id36">|default|</span></a> <code class="code docutils literal notranslate"><span class="pre">100</span></code></p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="pawnlib.metrics.tracker.LatencyTracker.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">history_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pawnlib/metrics/tracker.html#LatencyTracker.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pawnlib.metrics.tracker.LatencyTracker.__init__" title="Permalink to this definition"></a></dt>
<dd><p>Initializes the LatencyTracker.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>history_size</strong> (<em>int</em>) – The number of recent latency measurements to track.
<a href="#id37"><span class="problematic" id="id38">|default|</span></a> <code class="code docutils literal notranslate"><span class="pre">100</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pawnlib.metrics.tracker.LatencyTracker.add_latency">
<span class="sig-name descname"><span class="pre">add_latency</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">latency</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pawnlib/metrics/tracker.html#LatencyTracker.add_latency"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pawnlib.metrics.tracker.LatencyTracker.add_latency" title="Permalink to this definition"></a></dt>
<dd><p>Adds a new latency measurement to the tracker.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>latency</strong> (<em>float</em>) – The measured latency in milliseconds.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pawnlib.metrics.tracker.LatencyTracker.get_average_latency">
<span class="sig-name descname"><span class="pre">get_average_latency</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pawnlib/metrics/tracker.html#LatencyTracker.get_average_latency"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pawnlib.metrics.tracker.LatencyTracker.get_average_latency" title="Permalink to this definition"></a></dt>
<dd><p>Calculates the average latency from the tracked measurements.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The average latency in milliseconds.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pawnlib.metrics.tracker.LatencyTracker.get_min_latency">
<span class="sig-name descname"><span class="pre">get_min_latency</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pawnlib/metrics/tracker.html#LatencyTracker.get_min_latency"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pawnlib.metrics.tracker.LatencyTracker.get_min_latency" title="Permalink to this definition"></a></dt>
<dd><p>Returns the minimum recorded latency.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The minimum latency in milliseconds, or None if no data is available.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pawnlib.metrics.tracker.LatencyTracker.get_max_latency">
<span class="sig-name descname"><span class="pre">get_max_latency</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pawnlib/metrics/tracker.html#LatencyTracker.get_max_latency"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pawnlib.metrics.tracker.LatencyTracker.get_max_latency" title="Permalink to this definition"></a></dt>
<dd><p>Returns the maximum recorded latency.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The maximum latency in milliseconds, or None if no data is available.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float or None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pawnlib.metrics.tracker.ErrorRateTracker">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ErrorRateTracker</span></span><a class="reference internal" href="../_modules/pawnlib/metrics/tracker.html#ErrorRateTracker"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pawnlib.metrics.tracker.ErrorRateTracker" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A class to track and calculate error rates for API requests or operations.</p>
<p>This class monitors total requests and failed requests to compute an error rate percentage.</p>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Initialize the tracker</span>
<span class="n">error_tracker</span> <span class="o">=</span> <span class="n">ErrorRateTracker</span><span class="p">()</span>

<span class="c1"># Record requests (success=True for successful requests)</span>
<span class="n">error_tracker</span><span class="o">.</span><span class="n">record_request</span><span class="p">(</span><span class="n">success</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">error_tracker</span><span class="o">.</span><span class="n">record_request</span><span class="p">(</span><span class="n">success</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># Get the current error rate</span>
<span class="n">error_rate</span> <span class="o">=</span> <span class="n">error_tracker</span><span class="o">.</span><span class="n">get_error_rate</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error Rate: </span><span class="si">{</span><span class="n">error_rate</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">%&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Initializes the ErrorRateTracker.</p>
<p>Tracks total and failed requests for calculating error rates.</p>
<dl class="py method">
<dt class="sig sig-object py" id="pawnlib.metrics.tracker.ErrorRateTracker.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pawnlib/metrics/tracker.html#ErrorRateTracker.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pawnlib.metrics.tracker.ErrorRateTracker.__init__" title="Permalink to this definition"></a></dt>
<dd><p>Initializes the ErrorRateTracker.</p>
<p>Tracks total and failed requests for calculating error rates.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pawnlib.metrics.tracker.ErrorRateTracker.record_request">
<span class="sig-name descname"><span class="pre">record_request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">success</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pawnlib/metrics/tracker.html#ErrorRateTracker.record_request"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pawnlib.metrics.tracker.ErrorRateTracker.record_request" title="Permalink to this definition"></a></dt>
<dd><p>Records a request and whether it was successful or not.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>success</strong> (<em>bool</em>) – True if the request was successful; False otherwise.
Defaults to True.
<a href="#id39"><span class="problematic" id="id40">|default|</span></a> <code class="code docutils literal notranslate"><span class="pre">True</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pawnlib.metrics.tracker.ErrorRateTracker.get_error_rate">
<span class="sig-name descname"><span class="pre">get_error_rate</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pawnlib/metrics/tracker.html#ErrorRateTracker.get_error_rate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pawnlib.metrics.tracker.ErrorRateTracker.get_error_rate" title="Permalink to this definition"></a></dt>
<dd><p>Calculates the error rate as a percentage of failed requests over total requests.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The error rate percentage. Returns 0 if no requests have been recorded.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pawnlib.metrics.tracker.ThroughputTracker">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ThroughputTracker</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">history_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pawnlib/metrics/tracker.html#ThroughputTracker"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pawnlib.metrics.tracker.ThroughputTracker" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A class to track and calculate throughput (requests per second).</p>
<p>This class records timestamps of requests and calculates the throughput
over a configurable history size.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>history_size</strong> (<em>int</em>) – The number of recent timestamps to track.
<a href="#id41"><span class="problematic" id="id42">|default|</span></a> <code class="code docutils literal notranslate"><span class="pre">100</span></code></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Initialize the tracker with a history size of 100</span>
<span class="n">throughput_tracker</span> <span class="o">=</span> <span class="n">ThroughputTracker</span><span class="p">(</span><span class="n">history_size</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>

<span class="c1"># Record requests with timestamps</span>
<span class="n">throughput_tracker</span><span class="o">.</span><span class="n">record_request</span><span class="p">()</span>
<span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">throughput_tracker</span><span class="o">.</span><span class="n">record_request</span><span class="p">()</span>

<span class="c1"># Get the current throughput</span>
<span class="n">throughput</span> <span class="o">=</span> <span class="n">throughput_tracker</span><span class="o">.</span><span class="n">get_throughput</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Throughput: </span><span class="si">{</span><span class="n">throughput</span><span class="si">}</span><span class="s2"> requests/second&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Initializes the ThroughputTracker.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>history_size</strong> (<em>int</em>) – The number of recent timestamps to track.
<a href="#id43"><span class="problematic" id="id44">|default|</span></a> <code class="code docutils literal notranslate"><span class="pre">100</span></code></p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="pawnlib.metrics.tracker.ThroughputTracker.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">history_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pawnlib/metrics/tracker.html#ThroughputTracker.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pawnlib.metrics.tracker.ThroughputTracker.__init__" title="Permalink to this definition"></a></dt>
<dd><p>Initializes the ThroughputTracker.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>history_size</strong> (<em>int</em>) – The number of recent timestamps to track.
<a href="#id45"><span class="problematic" id="id46">|default|</span></a> <code class="code docutils literal notranslate"><span class="pre">100</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pawnlib.metrics.tracker.ThroughputTracker.record_request">
<span class="sig-name descname"><span class="pre">record_request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timestamp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pawnlib/metrics/tracker.html#ThroughputTracker.record_request"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pawnlib.metrics.tracker.ThroughputTracker.record_request" title="Permalink to this definition"></a></dt>
<dd><p>Records the timestamp of a request.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>timestamp</strong> (<em>float</em><em>, </em><em>optional</em>) – The timestamp of the request. Defaults to the current time.
<a href="#id47"><span class="problematic" id="id48">|default|</span></a> <code class="code docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pawnlib.metrics.tracker.ThroughputTracker.get_throughput">
<span class="sig-name descname"><span class="pre">get_throughput</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pawnlib/metrics/tracker.html#ThroughputTracker.get_throughput"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pawnlib.metrics.tracker.ThroughputTracker.get_throughput" title="Permalink to this definition"></a></dt>
<dd><p>Calculates the throughput (requests per second).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The calculated throughput. Returns 0 if insufficient data.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pawnlib.metrics.tracker.PeriodicMetricLogger">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">PeriodicMetricLogger</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">interval</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pawnlib/metrics/tracker.html#PeriodicMetricLogger"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pawnlib.metrics.tracker.PeriodicMetricLogger" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A class for logging metrics at regular intervals.</p>
<p>This class logs provided metrics only if a specified interval has passed since the last log.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>interval</strong> (<em>int</em>) – The logging interval in seconds.
<a href="#id49"><span class="problematic" id="id50">|default|</span></a> <code class="code docutils literal notranslate"><span class="pre">10</span></code></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Initialize the logger with a 10-second interval</span>
<span class="n">metric_logger</span> <span class="o">=</span> <span class="n">PeriodicMetricLogger</span><span class="p">(</span><span class="n">interval</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

<span class="c1"># Log metrics periodically</span>
<span class="n">metrics</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;TPS&quot;</span><span class="p">:</span> <span class="mf">50.5</span><span class="p">,</span> <span class="s2">&quot;Latency&quot;</span><span class="p">:</span> <span class="mi">120</span><span class="p">}</span>
<span class="n">metric_logger</span><span class="o">.</span><span class="n">log_metrics</span><span class="p">(</span><span class="n">metrics</span><span class="p">)</span>
</pre></div>
</div>
<p>Initializes the PeriodicMetricLogger.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>interval</strong> (<em>int</em>) – The logging interval in seconds.
<a href="#id51"><span class="problematic" id="id52">|default|</span></a> <code class="code docutils literal notranslate"><span class="pre">10</span></code></p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="pawnlib.metrics.tracker.PeriodicMetricLogger.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">interval</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pawnlib/metrics/tracker.html#PeriodicMetricLogger.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pawnlib.metrics.tracker.PeriodicMetricLogger.__init__" title="Permalink to this definition"></a></dt>
<dd><p>Initializes the PeriodicMetricLogger.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>interval</strong> (<em>int</em>) – The logging interval in seconds.
<a href="#id53"><span class="problematic" id="id54">|default|</span></a> <code class="code docutils literal notranslate"><span class="pre">10</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pawnlib.metrics.tracker.PeriodicMetricLogger.log_metrics">
<span class="sig-name descname"><span class="pre">log_metrics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">metrics</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pawnlib/metrics/tracker.html#PeriodicMetricLogger.log_metrics"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pawnlib.metrics.tracker.PeriodicMetricLogger.log_metrics" title="Permalink to this definition"></a></dt>
<dd><p>Logs the provided metrics if the logging interval has passed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>metrics</strong> (<em>dict</em>) – A dictionary of metric names and their values.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pawnlib.metrics.tracker.SpikeDetector">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SpikeDetector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">threshold</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">history_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pawnlib/metrics/tracker.html#SpikeDetector"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pawnlib.metrics.tracker.SpikeDetector" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A class to detect spikes in a series of values.</p>
<p>A spike is detected when the difference between consecutive values exceeds a specified threshold.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>threshold</strong> (<em>float</em>) – The change amount considered as a spike.</p></li>
<li><p><strong>history_size</strong> (<em>int</em>) – The maximum number of recent values to store.
<a href="#id55"><span class="problematic" id="id56">|default|</span></a> <code class="code docutils literal notranslate"><span class="pre">10</span></code></p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Initialize the spike detector with a threshold of 10</span>
<span class="n">spike_detector</span> <span class="o">=</span> <span class="n">SpikeDetector</span><span class="p">(</span><span class="n">threshold</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">history_size</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

<span class="c1"># Add values and detect spikes</span>
<span class="n">spike_detector</span><span class="o">.</span><span class="n">add_value</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="n">spike_detector</span><span class="o">.</span><span class="n">add_value</span><span class="p">(</span><span class="mi">65</span><span class="p">)</span>

<span class="n">is_spike</span> <span class="o">=</span> <span class="n">spike_detector</span><span class="o">.</span><span class="n">detect_spike</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Spike Detected: </span><span class="si">{</span><span class="n">is_spike</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Initializes the SpikeDetector.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>threshold</strong> (<em>float</em>) – The change amount considered as a spike.</p></li>
<li><p><strong>history_size</strong> (<em>int</em>) – The maximum number of recent values to store.
<a href="#id57"><span class="problematic" id="id58">|default|</span></a> <code class="code docutils literal notranslate"><span class="pre">10</span></code></p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="pawnlib.metrics.tracker.SpikeDetector.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">threshold</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">history_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pawnlib/metrics/tracker.html#SpikeDetector.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pawnlib.metrics.tracker.SpikeDetector.__init__" title="Permalink to this definition"></a></dt>
<dd><p>Initializes the SpikeDetector.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>threshold</strong> (<em>float</em>) – The change amount considered as a spike.</p></li>
<li><p><strong>history_size</strong> (<em>int</em>) – The maximum number of recent values to store.
<a href="#id59"><span class="problematic" id="id60">|default|</span></a> <code class="code docutils literal notranslate"><span class="pre">10</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pawnlib.metrics.tracker.SpikeDetector.add_value">
<span class="sig-name descname"><span class="pre">add_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pawnlib/metrics/tracker.html#SpikeDetector.add_value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pawnlib.metrics.tracker.SpikeDetector.add_value" title="Permalink to this definition"></a></dt>
<dd><p>Adds a new value to the tracker.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>value</strong> (<em>float</em>) – The new value to track.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pawnlib.metrics.tracker.SpikeDetector.detect_spike">
<span class="sig-name descname"><span class="pre">detect_spike</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pawnlib/metrics/tracker.html#SpikeDetector.detect_spike"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pawnlib.metrics.tracker.SpikeDetector.detect_spike" title="Permalink to this definition"></a></dt>
<dd><p>Detects whether a spike occurred based on recent values.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>True if a spike is detected; False otherwise.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pawnlib.metrics.tracker.AnomalyDetector">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">AnomalyDetector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">baseline</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tolerance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pawnlib/metrics/tracker.html#AnomalyDetector"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pawnlib.metrics.tracker.AnomalyDetector" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A class to detect anomalies in data based on a baseline and tolerance.</p>
<p>An anomaly is detected when a value deviates from the baseline by more than the allowed tolerance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>baseline</strong> (<em>float</em>) – The reference value for normal data (e.g., average TPS).</p></li>
<li><p><strong>tolerance</strong> (<em>float</em>) – The acceptable deviation from the baseline as a fraction (e.g., 0.2 for ±20%).
Defaults to 0.2 (±20%).
<a href="#id61"><span class="problematic" id="id62">|default|</span></a> <code class="code docutils literal notranslate"><span class="pre">0.2</span></code></p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Initialize the anomaly detector with a baseline of 50 and tolerance of 20%</span>
<span class="n">anomaly_detector</span> <span class="o">=</span> <span class="n">AnomalyDetector</span><span class="p">(</span><span class="n">baseline</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">tolerance</span><span class="o">=</span><span class="mf">0.2</span><span class="p">)</span>

<span class="c1"># Detect anomalies in new values</span>
<span class="n">is_anomaly</span> <span class="o">=</span> <span class="n">anomaly_detector</span><span class="o">.</span><span class="n">detect_anomaly</span><span class="p">(</span><span class="mi">65</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Anomaly Detected: </span><span class="si">{</span><span class="n">is_anomaly</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Initializes the AnomalyDetector.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>baseline</strong> (<em>float</em>) – The reference value for normal data (e.g., average TPS).</p></li>
<li><p><strong>tolerance</strong> (<em>float</em>) – The acceptable deviation from the baseline as a fraction.
Defaults to 0.2 (±20%).
<a href="#id63"><span class="problematic" id="id64">|default|</span></a> <code class="code docutils literal notranslate"><span class="pre">0.2</span></code></p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="pawnlib.metrics.tracker.AnomalyDetector.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">baseline</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tolerance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pawnlib/metrics/tracker.html#AnomalyDetector.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pawnlib.metrics.tracker.AnomalyDetector.__init__" title="Permalink to this definition"></a></dt>
<dd><p>Initializes the AnomalyDetector.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>baseline</strong> (<em>float</em>) – The reference value for normal data (e.g., average TPS).</p></li>
<li><p><strong>tolerance</strong> (<em>float</em>) – The acceptable deviation from the baseline as a fraction.
Defaults to 0.2 (±20%).
<a href="#id65"><span class="problematic" id="id66">|default|</span></a> <code class="code docutils literal notranslate"><span class="pre">0.2</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pawnlib.metrics.tracker.AnomalyDetector.detect_anomaly">
<span class="sig-name descname"><span class="pre">detect_anomaly</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pawnlib/metrics/tracker.html#AnomalyDetector.detect_anomaly"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pawnlib.metrics.tracker.AnomalyDetector.detect_anomaly" title="Permalink to this definition"></a></dt>
<dd><p>Detects whether a given value is an anomaly based on the baseline and tolerance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>value</strong> (<em>float</em>) – The value to check for anomalies.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if the value is an anomaly; False otherwise.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Check if a value is an anomaly</span>
<span class="n">is_anomaly</span> <span class="o">=</span> <span class="n">anomaly_detector</span><span class="o">.</span><span class="n">detect_anomaly</span><span class="p">(</span><span class="mi">75</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Anomaly Detected: </span><span class="si">{</span><span class="n">is_anomaly</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pawnlib.metrics.tracker.TrendAnalyzer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">TrendAnalyzer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">history_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pawnlib/metrics/tracker.html#TrendAnalyzer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pawnlib.metrics.tracker.TrendAnalyzer" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A class to analyze trends in a series of values.</p>
<p>This class tracks a series of values and determines whether the trend is upward, downward, or stable.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>history_size</strong> (<em>int</em>) – The maximum number of recent values to store for trend analysis.
<a href="#id67"><span class="problematic" id="id68">|default|</span></a> <code class="code docutils literal notranslate"><span class="pre">10</span></code></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Initialize the trend analyzer with a history size of 5</span>
<span class="n">trend_analyzer</span> <span class="o">=</span> <span class="n">TrendAnalyzer</span><span class="p">(</span><span class="n">history_size</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

<span class="c1"># Add values to the trend analyzer</span>
<span class="n">trend_analyzer</span><span class="o">.</span><span class="n">add_value</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="n">trend_analyzer</span><span class="o">.</span><span class="n">add_value</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span>
<span class="n">trend_analyzer</span><span class="o">.</span><span class="n">add_value</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>

<span class="c1"># Get the current trend</span>
<span class="n">trend</span> <span class="o">=</span> <span class="n">trend_analyzer</span><span class="o">.</span><span class="n">get_trend</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Current Trend: </span><span class="si">{</span><span class="n">trend</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Initializes the TrendAnalyzer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>history_size</strong> (<em>int</em>) – The maximum number of recent values to store for trend analysis.
<a href="#id69"><span class="problematic" id="id70">|default|</span></a> <code class="code docutils literal notranslate"><span class="pre">10</span></code></p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="pawnlib.metrics.tracker.TrendAnalyzer.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">history_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pawnlib/metrics/tracker.html#TrendAnalyzer.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pawnlib.metrics.tracker.TrendAnalyzer.__init__" title="Permalink to this definition"></a></dt>
<dd><p>Initializes the TrendAnalyzer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>history_size</strong> (<em>int</em>) – The maximum number of recent values to store for trend analysis.
<a href="#id71"><span class="problematic" id="id72">|default|</span></a> <code class="code docutils literal notranslate"><span class="pre">10</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pawnlib.metrics.tracker.TrendAnalyzer.add_value">
<span class="sig-name descname"><span class="pre">add_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pawnlib/metrics/tracker.html#TrendAnalyzer.add_value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pawnlib.metrics.tracker.TrendAnalyzer.add_value" title="Permalink to this definition"></a></dt>
<dd><p>Adds a new value to the tracker.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>value</strong> (<em>float</em><em> or </em><em>int</em>) – The new value to track.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pawnlib.metrics.tracker.TrendAnalyzer.get_trend">
<span class="sig-name descname"><span class="pre">get_trend</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pawnlib/metrics/tracker.html#TrendAnalyzer.get_trend"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pawnlib.metrics.tracker.TrendAnalyzer.get_trend" title="Permalink to this definition"></a></dt>
<dd><p>Calculates the trend based on the stored values.</p>
<p>The trend is determined as:
- “upward”: If all differences between consecutive values are positive.
- “downward”: If all differences between consecutive values are negative.
- “stable”: If there is no consistent upward or downward pattern.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The calculated trend (“upward”, “downward”, or “stable”).</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Analyze the trend</span>
<span class="n">trend</span> <span class="o">=</span> <span class="n">trend_analyzer</span><span class="o">.</span><span class="n">get_trend</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Current Trend: </span><span class="si">{</span><span class="n">trend</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pawnlib.metrics.tracker.RollingAverageCalculator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">RollingAverageCalculator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">window_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pawnlib/metrics/tracker.html#RollingAverageCalculator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pawnlib.metrics.tracker.RollingAverageCalculator" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A class to calculate the rolling (moving) average of a series of values.</p>
<p>This class maintains a fixed-size window of recent values and calculates the average
of the values within the window.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>window_size</strong> (<em>int</em>) – The size of the rolling window.
<a href="#id73"><span class="problematic" id="id74">|default|</span></a> <code class="code docutils literal notranslate"><span class="pre">5</span></code></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Initialize the rolling average calculator with a window size of 5</span>
<span class="n">avg_calculator</span> <span class="o">=</span> <span class="n">RollingAverageCalculator</span><span class="p">(</span><span class="n">window_size</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

<span class="c1"># Add values to the calculator</span>
<span class="n">avg_calculator</span><span class="o">.</span><span class="n">add_value</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="n">avg_calculator</span><span class="o">.</span><span class="n">add_value</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
<span class="n">avg_calculator</span><span class="o">.</span><span class="n">add_value</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span>

<span class="c1"># Get the current rolling average</span>
<span class="n">average</span> <span class="o">=</span> <span class="n">avg_calculator</span><span class="o">.</span><span class="n">get_average</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Rolling Average: </span><span class="si">{</span><span class="n">average</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Initializes the RollingAverageCalculator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>window_size</strong> (<em>int</em>) – The size of the rolling window.
<a href="#id75"><span class="problematic" id="id76">|default|</span></a> <code class="code docutils literal notranslate"><span class="pre">5</span></code></p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="pawnlib.metrics.tracker.RollingAverageCalculator.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">window_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pawnlib/metrics/tracker.html#RollingAverageCalculator.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pawnlib.metrics.tracker.RollingAverageCalculator.__init__" title="Permalink to this definition"></a></dt>
<dd><p>Initializes the RollingAverageCalculator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>window_size</strong> (<em>int</em>) – The size of the rolling window.
<a href="#id77"><span class="problematic" id="id78">|default|</span></a> <code class="code docutils literal notranslate"><span class="pre">5</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pawnlib.metrics.tracker.RollingAverageCalculator.add_value">
<span class="sig-name descname"><span class="pre">add_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pawnlib/metrics/tracker.html#RollingAverageCalculator.add_value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pawnlib.metrics.tracker.RollingAverageCalculator.add_value" title="Permalink to this definition"></a></dt>
<dd><p>Adds a new value to the rolling window.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>value</strong> (<em>float</em><em> or </em><em>int</em>) – The new value to add.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pawnlib.metrics.tracker.RollingAverageCalculator.get_average">
<span class="sig-name descname"><span class="pre">get_average</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pawnlib/metrics/tracker.html#RollingAverageCalculator.get_average"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pawnlib.metrics.tracker.RollingAverageCalculator.get_average" title="Permalink to this definition"></a></dt>
<dd><p>Calculates and returns the rolling average of the stored values.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The rolling average. Returns 0 if no values are stored.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Calculate the rolling average</span>
<span class="n">average</span> <span class="o">=</span> <span class="n">avg_calculator</span><span class="o">.</span><span class="n">get_average</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Rolling Average: </span><span class="si">{</span><span class="n">average</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pawnlib.metrics.tracker.ThresholdNotifier">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ThresholdNotifier</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">threshold</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alert_callback</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pawnlib/metrics/tracker.html#ThresholdNotifier"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pawnlib.metrics.tracker.ThresholdNotifier" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A class to monitor values and trigger a notification when a threshold is exceeded.</p>
<p>This class checks if a given value exceeds a predefined threshold and executes
a callback function when the threshold is crossed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>threshold</strong> (<em>float</em><em> or </em><em>int</em>) – The threshold value to monitor.</p></li>
<li><p><strong>alert_callback</strong> (<em>callable</em>) – A callback function to execute when the threshold is exceeded.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Define an alert callback function</span>
<span class="k">def</span><span class="w"> </span><span class="nf">alert</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Alert! Value exceeded: </span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Initialize the notifier with a threshold of 100</span>
<span class="n">notifier</span> <span class="o">=</span> <span class="n">ThresholdNotifier</span><span class="p">(</span><span class="n">threshold</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">alert_callback</span><span class="o">=</span><span class="n">alert</span><span class="p">)</span>

<span class="c1"># Check values and trigger alerts if necessary</span>
<span class="n">notifier</span><span class="o">.</span><span class="n">check_and_notify</span><span class="p">(</span><span class="mi">120</span><span class="p">)</span>  <span class="c1"># This will trigger the alert</span>
<span class="n">notifier</span><span class="o">.</span><span class="n">check_and_notify</span><span class="p">(</span><span class="mi">80</span><span class="p">)</span>   <span class="c1"># This will not trigger the alert</span>
</pre></div>
</div>
<p>Initializes the ThresholdNotifier.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>threshold</strong> (<em>float</em><em> or </em><em>int</em>) – The threshold value to monitor.</p></li>
<li><p><strong>alert_callback</strong> (<em>callable</em>) – A callback function to execute when the threshold is exceeded.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="pawnlib.metrics.tracker.ThresholdNotifier.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">threshold</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alert_callback</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pawnlib/metrics/tracker.html#ThresholdNotifier.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pawnlib.metrics.tracker.ThresholdNotifier.__init__" title="Permalink to this definition"></a></dt>
<dd><p>Initializes the ThresholdNotifier.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>threshold</strong> (<em>float</em><em> or </em><em>int</em>) – The threshold value to monitor.</p></li>
<li><p><strong>alert_callback</strong> (<em>callable</em>) – A callback function to execute when the threshold is exceeded.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pawnlib.metrics.tracker.ThresholdNotifier.check_and_notify">
<span class="sig-name descname"><span class="pre">check_and_notify</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pawnlib/metrics/tracker.html#ThresholdNotifier.check_and_notify"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pawnlib.metrics.tracker.ThresholdNotifier.check_and_notify" title="Permalink to this definition"></a></dt>
<dd><p>Checks if the given value exceeds the threshold and triggers the callback if it does.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>value</strong> (<em>float</em><em> or </em><em>int</em>) – The value to check against the threshold.</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">notifier</span><span class="o">.</span><span class="n">check_and_notify</span><span class="p">(</span><span class="mi">150</span><span class="p">)</span>  <span class="c1"># Triggers the callback if value &gt; threshold</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pawnlib.metrics.tracker.RateLimiter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">RateLimiter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">max_calls</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_period</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pawnlib/metrics/tracker.html#RateLimiter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pawnlib.metrics.tracker.RateLimiter" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A class to enforce rate limits on operations.</p>
<p>This class ensures that a maximum number of calls can be made within a specified time period.
If the limit is exceeded, further calls are not allowed until the time window resets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>max_calls</strong> (<em>int</em>) – The maximum number of calls allowed within the time period.</p></li>
<li><p><strong>time_period</strong> (<em>float</em><em> or </em><em>int</em>) – The time period (in seconds) for rate limiting.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Initialize a rate limiter allowing 5 calls per 10 seconds</span>
<span class="n">rate_limiter</span> <span class="o">=</span> <span class="n">RateLimiter</span><span class="p">(</span><span class="n">max_calls</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">time_period</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

<span class="c1"># Check if calls are allowed</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">rate_limiter</span><span class="o">.</span><span class="n">is_allowed</span><span class="p">():</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Call </span><span class="si">{</span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="si">}</span><span class="s2">: Allowed&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Call </span><span class="si">{</span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="si">}</span><span class="s2">: Rate limit exceeded&quot;</span><span class="p">)</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># Simulate time delay between calls</span>
</pre></div>
</div>
<p>Initializes the RateLimiter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>max_calls</strong> (<em>int</em>) – The maximum number of calls allowed within the time period.</p></li>
<li><p><strong>time_period</strong> (<em>float</em><em> or </em><em>int</em>) – The time period (in seconds) for rate limiting.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="pawnlib.metrics.tracker.RateLimiter.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">max_calls</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_period</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pawnlib/metrics/tracker.html#RateLimiter.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pawnlib.metrics.tracker.RateLimiter.__init__" title="Permalink to this definition"></a></dt>
<dd><p>Initializes the RateLimiter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>max_calls</strong> (<em>int</em>) – The maximum number of calls allowed within the time period.</p></li>
<li><p><strong>time_period</strong> (<em>float</em><em> or </em><em>int</em>) – The time period (in seconds) for rate limiting.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pawnlib.metrics.tracker.RateLimiter.is_allowed">
<span class="sig-name descname"><span class="pre">is_allowed</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pawnlib/metrics/tracker.html#RateLimiter.is_allowed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pawnlib.metrics.tracker.RateLimiter.is_allowed" title="Permalink to this definition"></a></dt>
<dd><p>Checks if a new call is allowed under the rate limit.</p>
<p>Removes expired calls from the queue based on the current time and time period,
then determines if another call can be made.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>True if the call is allowed; False otherwise.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">rate_limiter</span><span class="o">.</span><span class="n">is_allowed</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Call allowed&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Rate limit exceeded&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pawnlib.metrics.tracker.calculate_reset_percentage">
<span class="sig-name descname"><span class="pre">calculate_reset_percentage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pawnlib/metrics/tracker.html#calculate_reset_percentage"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pawnlib.metrics.tracker.calculate_reset_percentage" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pawnlib.metrics.tracker.calculate_pruning_percentage">
<span class="sig-name descname"><span class="pre">calculate_pruning_percentage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pawnlib/metrics/tracker.html#calculate_pruning_percentage"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pawnlib.metrics.tracker.calculate_pruning_percentage" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="pawnlib.input.html" class="btn btn-neutral float-left" title="pawnlib.input package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="pawnlib.output.html" class="btn btn-neutral float-right" title="pawnlib.output package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, jinwoo.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>